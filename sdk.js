!function(e,t){"object"==typeof module&&module.exports?module.exports=t():"function"==typeof define&&define.amd?define(t):e.findAndReplaceDOMText=t()}(this,function(){var e="retain",t=document,n={}.hasOwnProperty;function r(){return function(e,t,n,a,i){if(t&&!t.nodeType&&arguments.length<=2)return!1;var s,d="function"==typeof n;d&&(s=n,n=function(e,t){return s(e.text,t.startIndex)});var l=o(t,{find:e,wrap:d?null:n,replace:d?n:"$"+(a||"&"),prepMatch:function(e,t){if(!e[0])throw"findAndReplaceDOMText cannot handle zero-length matches";if(a>0){var n=e[a];e.index+=e[0].indexOf(n),e[0]=n}return e.endIndex=e.index+e[0].length,e.startIndex=e.index,e.index=t,e},filterElements:i});return r.revert=function(){return l.revert()},!0}.apply(null,arguments)||o.apply(null,arguments)}function o(e,t){return new a(e,t)}function a(t,o){var a=o.preset&&r.PRESETS[o.preset];if(o.portionMode=o.portionMode||e,a)for(var i in a)n.call(a,i)&&!n.call(o,i)&&(o[i]=a[i]);this.node=t,this.options=o,this.prepMatch=o.prepMatch||this.prepMatch,this.reverts=[],this.matches=this.search(),this.matches.length&&this.processMatches()}return r.NON_PROSE_ELEMENTS={br:1,hr:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1},r.NON_CONTIGUOUS_PROSE_ELEMENTS={address:1,article:1,aside:1,blockquote:1,dd:1,div:1,dl:1,fieldset:1,figcaption:1,figure:1,footer:1,form:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,header:1,hgroup:1,hr:1,main:1,nav:1,noscript:1,ol:1,output:1,p:1,pre:1,section:1,ul:1,br:1,li:1,summary:1,dt:1,details:1,rp:1,rt:1,rtc:1,script:1,style:1,img:1,video:1,audio:1,canvas:1,svg:1,map:1,object:1,input:1,textarea:1,select:1,option:1,optgroup:1,button:1,table:1,tbody:1,thead:1,th:1,tr:1,td:1,caption:1,col:1,tfoot:1,colgroup:1},r.NON_INLINE_PROSE=function(e){return n.call(r.NON_CONTIGUOUS_PROSE_ELEMENTS,e.nodeName.toLowerCase())},r.PRESETS={prose:{forceContext:r.NON_INLINE_PROSE,filterElements:function(e){return!n.call(r.NON_PROSE_ELEMENTS,e.nodeName.toLowerCase())}}},r.Finder=a,a.prototype={search:function(){var e,t=0,n=0,r=this.options.find,o=this.getAggregateText(),a=[],i=this;return r="string"==typeof r?RegExp(String(r).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1"),"g"):r,function o(s){for(var d=0,l=s.length;d<l;++d){var p=s[d];if("string"==typeof p){if(r.global)for(;e=r.exec(p);)a.push(i.prepMatch(e,t++,n));else(e=p.match(r))&&a.push(i.prepMatch(e,0,n));n+=p.length}else o(p)}}(o),a},prepMatch:function(e,t,n){if(!e[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return e.endIndex=n+e.index+e[0].length,e.startIndex=n+e.index,e.index=t,e},getAggregateText:function(){var e=this.options.filterElements,t=this.options.forceContext;return function n(r){if(r.nodeType===Node.TEXT_NODE)return[r.data];if(e&&!e(r))return[];var o=[""],a=0;if(r=r.firstChild)do{if(r.nodeType!==Node.TEXT_NODE){var i=n(r);t&&r.nodeType===Node.ELEMENT_NODE&&(!0===t||t(r))?(o[++a]=i,o[++a]=""):("string"==typeof i[0]&&(o[a]+=i.shift()),i.length&&(o[++a]=i,o[++a]=""))}else o[a]+=r.data}while(r=r.nextSibling);return o}(this.node)},processMatches:function(){var e,t,n,r=this.matches,o=this.node,a=this.options.filterElements,i=[],s=o,d=r.shift(),l=0,p=0,c=[o];e:for(;;){if(s.nodeType===Node.TEXT_NODE&&(!t&&s.length+l>=d.endIndex?t={node:s,index:p++,text:s.data.substring(d.startIndex-l,d.endIndex-l),indexInMatch:0===l?0:l-d.startIndex,indexInNode:d.startIndex-l,endIndexInNode:d.endIndex-l,isEnd:!0}:e&&i.push({node:s,index:p++,text:s.data,indexInMatch:l-d.startIndex,indexInNode:0}),!e&&s.length+l>d.startIndex&&(e={node:s,index:p++,indexInMatch:0,indexInNode:d.startIndex-l,endIndexInNode:d.endIndex-l,text:s.data.substring(d.startIndex-l,d.endIndex-l)}),l+=s.data.length),n=s.nodeType===Node.ELEMENT_NODE&&a&&!a(s),e&&t){if(s=this.replaceMatch(d,e,i,t),l-=t.node.data.length-t.endIndexInNode,e=null,t=null,i=[],p=0,!(d=r.shift()))break}else if(!n&&(s.firstChild||s.nextSibling)){s.firstChild?(c.push(s),s=s.firstChild):s=s.nextSibling;continue}for(;;){if(s.nextSibling){s=s.nextSibling;break}if((s=c.pop())===o)break e}}},revert:function(){for(var e=this.reverts.length;e--;)this.reverts[e]();this.reverts=[]},prepareReplacementString:function(e,t,n){var r=this.options.portionMode;return"first"===r&&t.indexInMatch>0?"":(e=e.replace(/\$(\d+|&|`|')/g,function(e,t){var r;switch(t){case"&":r=n[0];break;case"`":r=n.input.substring(0,n.startIndex);break;case"'":r=n.input.substring(n.endIndex);break;default:r=n[+t]||""}return r}),"first"===r?e:t.isEnd?e.substring(t.indexInMatch):e.substring(t.indexInMatch,t.indexInMatch+t.text.length))},getPortionReplacementNode:function(e,n){var r=this.options.replace||"$&",o=this.options.wrap,a=this.options.wrapClass;if(o&&o.nodeType){var i=t.createElement("div");i.innerHTML=o.outerHTML||(new XMLSerializer).serializeToString(o),o=i.firstChild}if("function"==typeof r)return(r=r(e,n))&&r.nodeType?r:t.createTextNode(String(r));var s="string"==typeof o?t.createElement(o):o;return s&&a&&(s.className=a),(r=t.createTextNode(this.prepareReplacementString(r,e,n))).data&&s?(s.appendChild(r),s):r},replaceMatch:function(e,n,r,o){var a,i,s=n.node,d=o.node;if(s===d){var l=s;n.indexInNode>0&&(a=t.createTextNode(l.data.substring(0,n.indexInNode)),l.parentNode.insertBefore(a,l));var p=this.getPortionReplacementNode(o,e);return l.parentNode.insertBefore(p,l),o.endIndexInNode<l.length&&(i=t.createTextNode(l.data.substring(o.endIndexInNode)),l.parentNode.insertBefore(i,l)),l.parentNode.removeChild(l),this.reverts.push(function(){a===p.previousSibling&&a.parentNode.removeChild(a),i===p.nextSibling&&i.parentNode.removeChild(i),p.parentNode.replaceChild(l,p)}),p}a=t.createTextNode(s.data.substring(0,n.indexInNode)),i=t.createTextNode(d.data.substring(o.endIndexInNode));for(var c=this.getPortionReplacementNode(n,e),h=[],u=0,f=r.length;u<f;++u){var g=r[u],x=this.getPortionReplacementNode(g,e);g.node.parentNode.replaceChild(x,g.node),this.reverts.push(function(e,t){return function(){t.parentNode.replaceChild(e.node,t)}}(g,x)),h.push(x)}var m=this.getPortionReplacementNode(o,e);return s.parentNode.insertBefore(a,s),s.parentNode.insertBefore(c,s),s.parentNode.removeChild(s),d.parentNode.insertBefore(m,d),d.parentNode.insertBefore(i,d),d.parentNode.removeChild(d),this.reverts.push(function(){a.parentNode.removeChild(a),c.parentNode.replaceChild(s,c),i.parentNode.removeChild(i),m.parentNode.replaceChild(d,m)}),m}},r}),function(e){for(var t=document.querySelectorAll("body script"),n=0;n<t.length;n++)t[n].remove();var r=document.body.innerText.split("\n"),o=document.getElementById("tss-script").getAttribute("src"),a=o.substring(o.indexOf("=")+1),i={apiKey:a,pageText:r,pathname:e.location.pathname,origin:e.location.origin,href:e.location.href},s=new XMLHttpRequest;function d(t){if(0===t)return!1;var n=e.__tsStack.customizer;return!n||"WITH_BRANDING"!==n.appearance||1!==t}function l(t){if(console.log("languageId",t),0!==e.translatedStringsMap.length){for(let t=0;t<e.translatedStringsMap.length;t++){let n=e.translatedStringsMap[t];findAndReplaceDOMText(document.body,{find:n.to,replace:n.original})}e.translatedStringsMap=[]}if(e.__tsStack){e.__tsStack.pageStrings.forEach(n=>{n.translations&&n.translations.length&&n.translations.forEach(r=>{r.languagesId===parseInt(t)&&(e.translatedStringsMap.push({original:n.original,to:r.translatedString}),findAndReplaceDOMText(document.body,{find:n.original,replace:r.translatedString}))})})}}function p(e){var t,n,r,o,a,i=[];for(t=document.getElementsByClassName("select-items"),n=document.getElementsByClassName("select-selected"),o=t.length,a=n.length,r=0;r<a;r++)e==n[r]?i.push(r):n[r].classList.remove("select-arrow-active");for(r=0;r<o;r++)i.indexOf(r)&&t[r].classList.add("select-hide")}s.onreadystatechange=function(){if(s.readyState==XMLHttpRequest.DONE){const t=s.responseText;let n;try{n=JSON.parse(t),e.__tsStack=n}catch(e){console.log(e)}n&&n.pageStrings&&n.pageStrings.length?function(){if(e.__tsStack){var t=document.createElement("div");t.className="custom-select";var n=e.__tsStack.populatedLanguages,r=e.__tsStack.customizer;r&&"WITH_BRANDING"===r.appearance&&n.unshift("⚡ by translatestack"),n.unshift("Select Language");var o=document.createElement("select");for(let e=0;e<n.length;e++){const t=n[e];var a=document.createElement("option");if(d(e)){var i=document.createElement("div");i.setAttribute("data-value",t.id),i.style.setProperty("font-size","14px"),i.style.setProperty("color","#0a2540"),i.style.setProperty("border","unset"),i.style.setProperty("padding-left","8px"),i.style.setProperty("padding-right","8px");var s=document.createElement("img");s.src=t.flag,s.style.setProperty("width","23px"),s.style.setProperty("height","23px"),s.style.setProperty("border-radius","50px");var c=document.createElement("span");c.style.setProperty("margin-left","10px"),"SHORTENED"===r.text?c.textContent=t.iso2.toUpperCase():"FULL"===r.text?c.textContent=t.language:"FLAG_ONLY"===r.text&&(c.textContent=""),i.appendChild(s),i.appendChild(c),a.value=t.id,a.appendChild(i)}else a.value=0,a.text=t;o.appendChild(a)}if(t.appendChild(o),r&&"LEFT"===r.position)t.style.setProperty("left","1vw"),document.body.appendChild(t);else if(r&&"RIGHT"===r.position)t.style.setProperty("right","1vw"),document.body.appendChild(t);else if(r&&"CUSTOM"===r.position&&(""!==r.customDivId||"null"!==r.customDivId)){const e=document.getElementById(r.customDivId);e?(t.style.position="relative",e.append(t)):(t.style.setProperty("left","1vw"),document.body.appendChild(t))}!function(){var e,t,n,r,o,a,i,s,d;for(e=document.getElementsByClassName("custom-select"),r=e.length,t=0;t<r;t++){for(a=e[t].getElementsByTagName("select")[0],o=a.length,(i=document.createElement("DIV")).setAttribute("class","select-selected"),i.innerHTML=a.options[a.selectedIndex].innerHTML,e[t].appendChild(i),(s=document.createElement("DIV")).setAttribute("class","select-items select-hide"),n=1;n<o;n++)(d=document.createElement("DIV")).innerHTML=a.options[n].innerHTML,"⚡ by translatestack"===d.innerHTML?(d.className="select-header",d.style.backgroundColor="white",d.style.setProperty("font-size","9px"),d.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()})):d.addEventListener("click",function(e){var t,n,r,o,a,i,s;for(o=this.parentNode.parentNode.getElementsByTagName("select")[0],i=o.length,a=this.parentNode.previousSibling,n=0;n<i;n++)if(o.options[n].innerHTML==this.innerHTML){for(o.selectedIndex=n,a.innerHTML=this.innerHTML,t=this.parentNode.getElementsByClassName("same-as-selected"),s=t.length,r=0;r<s;r++)t[r].removeAttribute("class");this.setAttribute("class","same-as-selected");break}a.click();try{l(this.children[0].getAttribute("data-value"))}catch(e){console.log("unable to apply translations",e)}}),s.appendChild(d);e[t].appendChild(s),i.addEventListener("click",function(e){e.stopPropagation(),p(this),this.nextSibling.classList.toggle("select-hide"),this.classList.toggle("select-arrow-active")})}}()}}():setTimeout(()=>{var e=new XMLHttpRequest;e.onload=function(){},e.onerror=function(){},e.open("POST","https://app.translatestack.com/graphqlsave-strings",!0),e.setRequestHeader("Content-Type","application/json"),e.send(JSON.stringify(i))},5e3)}},s.onerror=function(e){console.log(e)},s.open("GET",`https://app.translatestack.com/graphqlget-strings?apiKey=${a}&href=${e.location.href}`,!0),s.setRequestHeader("Content-Type","application/json"),s.send(),function(e){const t=document.createElement("style");t.textContent=e,document.head.append(t)}('\n    .custom-select {\n        font-family: Arial;\n        z-index: 1;\n        position: fixed;\n        bottom: 0px;\n        // left: 500px;\n        width: 149px;\n        color: #0a2540;\n        border-radius: 4px;\n        box-shadow: 0 2px 20px -5px #e8eaef;\n        border: solid 1px #e8eaef;\n      }\n      \n      .custom-select select {\n        display: none;\n      }\n      \n      .select-selected {\n        background-color: white;\n        border-radius: 4px;\n        box-shadow: 0 2px 20px -5px #e8eaef;\n        border: solid 1px #e8eaef;\n        color: #0a2540;\n        padding: 8px 16px;\n      }\n      \n      .select-selected:after {\n        position: absolute;\n        content: "";\n        top: 18px;\n        right: 10px;\n        width: 0;\n        height: 0;\n        border: 6px solid #ccc;\n        border-color: #ccc transparent transparent transparent;\n      }\n      \n      .select-selected.select-arrow-active:after {\n        border-color: transparent transparent #ccc transparent;\n        top: 10px;\n      }\n      \n      .select-items div,.select-selected {\n        color: #0a2540;\n        padding: 8px 16px;\n        border: 1px solid transparent;\n        border-color: transparent transparent rgba(0, 0, 0, 0.1) transparent;\n        cursor: pointer;\n        user-select: none;\n        font-size: 14px;\n      }\n      \n      .select-items {\n        position: absolute;\n        background-color: white;\n        left: 0;\n        right: 0;\n        z-index: 99;\n        bottom: 40px;\n        box-shadow: 0 2px 20px -5px #e8eaef;\n        border: solid 1px #e8eaef;\n        border-top-left-radius: 4px;\n        border-top-right-radius: 4px;\n      }\n      \n      .select-hide {\n        display: none;\n      }\n      \n      .select-items div:hover, .same-as-selected {\n        background-color: #f9f9fb;\n      }\n      \n      .select-header {\n          color: #0a2540 !important;\n          padding: 20px !important;\n          background-color: white;\n          font-size: 9px;\n          padding-top: 10px !important;\n          padding-bottom: 6px !important;\n          border-bottom: unset !important;\n      }\n\n      .select-header:hover {\n        background-color: white !important;\n        opacity: 1 !important;\n      }'),e.translatedStringsMap=[],e.document.addEventListener("click",p)}(window);